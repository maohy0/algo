# 3 哈希表 Hash Table

哈希表是根据关键码的值而直接进行访问的数据结构，一般哈希表都是用来快速判断一个元素是否出现集合里。其实，哈希表还是数组。

例如要查询一个名字是否在这所学校里，我们只需要初始化把这所学校里学生的名字都存在哈希表里，在查询的时候通过索引直接就可以知道这位同学在不在这所学校里了。将学生姓名映射到哈希表上就涉及到了 hash function ，也就是哈希函数。如下面2个式子所示

$$\text{index} = \text{hashFunction}(\text{name})$$
$$\text{hashFunction} = \text{hashCode}(\text{name}) \% \text{tableSize}$$

如果hashCode得到的值大于数组长度，为了保证映射出来的索引数值都落在哈希表上，我们会在再次对数值做一个取模的操作，这样我们就保证了学生姓名一定可以映射到哈希表上了。

但是如果学生的数量大于哈希表的大小，此时就算哈希函数计算的再均匀，也避免不了会有几位学生的名字同时映射到哈希表 同一个索引下标的位置，这就是哈希碰撞。

要解决哈希碰撞有2种方法，拉链法和线性探测法。

拉链法，发生冲突的元素不会被储存在哈希表中，而是在链表中，可以通过索引找到。其实拉链法就是要选择适当的哈希表的大小，这样既不会因为数组空值而浪费大量内存，也不会因为链表太长而在查找上浪费太多时间。

使用线性探测法，一定要保证哈希表的大小 > 数据大小，线性探测法就是在冲突的位置放置元素，然后下一个元素（冲突的）向下找一个空位放置。

常见的3种哈希结构：

1. 数组array
2. 映射map
3. 集合set

哈希法牺牲了空间换取了时间，因为我们要使用额外的数组来存放数据，才能实现快速的查找。

## 1 有效的字母异位词

给定两个字符串 s 和 t ，编写一个函数来判断 t 是否是 s 的字母异位词。

```
示例 1: 输入: s = "anagram", t = "nagaram" 输出: true

示例 2: 输入: s = "rat", t = "car" 输出: false
```

说明: 假设字符串只包含小写字母。

## 2 两个数组的交集

给定两个数组，编写一个函数来计算它们的交集。

```
示例1：输入：nums1 = [1, 2, 2, 1], nums2 = [2, 2], 输出：[2]
示例2：输入：nums1 = [4, 9, 5], nums2 = [9, 4, 9, 8, 4], 输出：[9, 4]
```

## 3 快乐数

「快乐数」定义为：对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和，然后重复这个过程直到这个数变为 1，也可能是 无限循环 但始终变不到 1。如果 可以变为  1，那么这个数就是快乐数。

如果 n 是快乐数就返回 True ；不是，则返回 False 。

示例：

```
输入：19
输出：true
解释：
1^2 + 9^2 = 82
8^2 + 2^2 = 68
6^2 + 8^2 = 100
1^2 + 0^2 + 0^2 = 1
```

## 4 两数之和

给定一个整数数组 nums 和一个目标值 target，在该数组中找出和为目标值的那 两个 整数，并返回他们的数组下标。

假设每种输入只会对应一个答案。但是，数组中同一个元素不能使用两遍。

```
示例:

给定 nums = [2, 7, 11, 15], target = 9

因为 nums[0] + nums[1] = 2 + 7 = 9

所以返回 [0, 1]
```

## 5 四数相加

给定四个包含整数的数组列表 A , B , C , D ,计算有多少个元组 (i, j, k, l) ，使得 A[i] + B[j] + C[k] + D[l] = 0。

为了使问题简单化，所有的 A, B, C, D 具有相同的长度 N，且 0 ≤ N ≤ 500 。所有整数的范围在 -2^28 到 2^28 - 1 之间，最终结果不会超过 2^31 - 1 。

例如:

```
输入:

A = [ 1, 2]
B = [-2,-1]
C = [-1, 2]
D = [ 0, 2]
输出:

2
```

解释:

```
两个元组如下:

(0, 0, 0, 1) -> A[0] + B[0] + C[0] + D[1] = 1 + (-2) + (-1) + 2 = 0
(1, 1, 0, 0) -> A[1] + B[1] + C[0] + D[0] = 2 + (-1) + (-1) + 0 = 0
```

## 6 赎金信

给定一个赎金信 (ransom) 字符串和一个杂志(magazine)字符串，判断第一个字符串 ransom 能不能由第二个字符串 magazines 里面的字符构成。如果可以构成，返回 true ；否则返回 false。

(题目说明：为了不暴露赎金信字迹，要从杂志上搜索各个需要的字母，组成单词来表达意思。杂志字符串中的每个字符只能在赎金信字符串中使用一次。)

注意：

可以假设两个字符串均只含有小写字母。

```
canConstruct("a", "b") -> false
canConstruct("aa", "ab") -> false
canConstruct("aa", "aab") -> true
```